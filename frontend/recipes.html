<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Search Recipes - verde</title>
    <!-- Tailwind CSS for modern styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts for a clean, modern look -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="index.css">
  </head>
<body class="bg-gray-50 text-gray-800">

    <!-- Header -->
    <header class="bg-white shadow-sm border-b sticky top-0 z-10">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center py-4">
                <div class="flex items-center">
                    <a href="/" class="text-2xl font-bold text-green-600">verde</a>
                    <span class="ml-2 text-gray-500">recipes</span>
                </div>
                <a href="/" class="px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition">
                    Back to Home
                </a>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <h1 class="text-3xl font-bold text-center mb-8">Vegetarian Recipes by Popularity</h1>
        
        <!-- Search Section -->
        <div class="mb-8">
            <div class="flex justify-center">
                <div class="w-full max-w-md">
                    <input type="text" id="search-input" placeholder="Search recipes by name or description..." 
                           class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent">
                </div>
            </div>
        </div>

        <!-- Sort Options -->
        <div class="mb-6 flex justify-center">
            <div class="flex gap-2">
                <button id="sort-popularity" class="px-4 py-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition">Popularity (Low to High)</button>
                <button id="sort-rating" class="px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition">Rating (Low to High)</button>
                <button id="sort-time" class="px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition">Cooking Time</button>
            </div>
        </div>

        <!-- Recipes Grid -->
        <div id="recipes-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            <!-- Recipe Card 1 - Lowest Popularity -->
            <div class="bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow" data-rating="4.5" data-time="40">
                <img src="https://images.unsplash.com/photo-1565299624946-b28f40a0ca4b?w=400&h=250&fit=crop&crop=center" 
                     alt="Ultimate Veggie Burger" class="w-full h-48 object-cover">
                <div class="p-6">
                    <div class="flex items-center justify-between mb-2">
                        <h3 class="text-lg font-semibold cursor-pointer hover:text-green-600 transition-colors recipe-title">Ultimate Veggie Burger</h3>
                        <div class="flex items-center">
                            <span class="text-yellow-400">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ</span>
                            <span class="text-sm text-gray-500 ml-1">(4.5)</span>
                        </div>
                    </div>
                    <p class="text-gray-600 text-sm mb-3">Protein-packed veggie burger with black beans, quinoa, and mushrooms. Holds together perfectly on the grill.</p>
                    <div class="flex items-center justify-between text-sm text-gray-500">
                        <span>‚è±Ô∏è 40 min</span>
                        <span>üë• 4 servings</span>
                        <span class="bg-green-100 text-green-700 px-2 py-1 rounded-full">Vegetarian</span>
                    </div>
                    <!-- Rating Section -->
                    <div class="mt-4 pt-3 border-t">
                        <div class="flex items-center justify-between mb-2">
                            <span class="text-sm font-medium text-gray-700">Rate this recipe:</span>
                            <div class="flex items-center">
                                <span class="text-sm text-gray-500 mr-2" id="ultimate-veggie-burger-rating-display">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ (4.5)</span>
                            </div>
                        </div>
                        <div class="flex items-center space-x-1 mb-2">
                            <button class="star-rating" data-recipe="Ultimate Veggie Burger" data-rating="1" data-target="ultimate-veggie-burger-rating-display">
                                <span class="text-gray-300 hover:text-yellow-400 transition-colors">‚òÖ</span>
                            </button>
                            <button class="star-rating" data-recipe="Ultimate Veggie Burger" data-rating="2" data-target="ultimate-veggie-burger-rating-display">
                                <span class="text-gray-300 hover:text-yellow-400 transition-colors">‚òÖ</span>
                            </button>
                            <button class="star-rating" data-recipe="Ultimate Veggie Burger" data-rating="3" data-target="ultimate-veggie-burger-rating-display">
                                <span class="text-gray-300 hover:text-yellow-400 transition-colors">‚òÖ</span>
                            </button>
                            <button class="star-rating" data-recipe="Ultimate Veggie Burger" data-rating="4" data-target="ultimate-veggie-burger-rating-display">
                                <span class="text-gray-300 hover:text-yellow-400 transition-colors">‚òÖ</span>
                            </button>
                            <button class="star-rating" data-recipe="Ultimate Veggie Burger" data-rating="5" data-target="ultimate-veggie-burger-rating-display">
                                <span class="text-gray-300 hover:text-yellow-400 transition-colors">‚òÖ</span>
                            </button>
                        </div>
                        <div class="flex items-center space-x-2">
                            <input type="text" placeholder="Your name (optional)" 
                                   class="flex-1 px-2 py-1 text-xs border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-green-500"
                                   data-recipe="Ultimate Veggie Burger">
                            <button class="submit-rating px-3 py-1 bg-green-600 text-white text-xs rounded hover:bg-green-700 transition"
                                    data-recipe="Ultimate Veggie Burger">
                                Rate
                            </button>
                        </div>
                    </div>
                </div>
                <div class="px-6 pb-4">
                    <div class="border-t pt-3">
                        <h4 class="text-sm font-medium text-gray-700 mb-2">Recent Reviews:</h4>
                        <div class="space-y-2">
                            <div class="text-sm">
                                <div class="flex items-center mb-1">
                                    <span class="font-medium">Alex T.</span>
                                    <span class="text-yellow-400 ml-2">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</span>
                                </div>
                                <p class="text-gray-600">"Finally, a veggie burger that doesn't fall apart! Great texture and flavor. Perfect for BBQs."</p>
                            </div>
                            <div class="text-sm">
                                <div class="flex items-center mb-1">
                                    <span class="font-medium">Maria G.</span>
                                    <span class="text-yellow-400 ml-2">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ</span>
                                </div>
                                <p class="text-gray-600">"Really good! The combination of beans and quinoa works perfectly. Kids loved it too."</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Recipe Card 2 -->
            <div class="bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow" data-rating="4.6" data-time="50">
                <img src="https://images.unsplash.com/photo-1551183053-bf91a1d81141?w=400&h=250&fit=crop&crop=center" 
                     alt="Mushroom Bolognese" class="w-full h-48 object-cover">
                <div class="p-6">
                    <div class="flex items-center justify-between mb-2">
                        <h3 class="text-lg font-semibold cursor-pointer hover:text-green-600 transition-colors recipe-title">Mushroom Bolognese</h3>
                        <div class="flex items-center">
                            <span class="text-yellow-400">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</span>
                            <span class="text-sm text-gray-500 ml-1">(4.9)</span>
                        </div>
                    </div>
                    <p class="text-gray-600 text-sm mb-3">Rich and meaty mushroom-based sauce that rivals traditional bolognese. Perfect over your favorite pasta.</p>
                    <div class="flex items-center justify-between text-sm text-gray-500">
                        <span>‚è±Ô∏è 35 min</span>
                        <span>üë• 4 servings</span>
                        <span class="bg-green-100 text-green-700 px-2 py-1 rounded-full">Vegetarian</span>
                    </div>
                    <!-- Rating Section -->
                    <div class="mt-4 pt-3 border-t">
                        <div class="flex items-center justify-between mb-2">
                            <span class="text-sm font-medium text-gray-700">Rate this recipe:</span>
                            <div class="flex items-center">
                                <span class="text-sm text-gray-500 mr-2" id="mushroom-bolognese-rating-display">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ (4.9)</span>
                            </div>
                        </div>
                        <div class="flex items-center space-x-1 mb-2">
                            <button class="star-rating" data-recipe="Mushroom Bolognese" data-rating="1" data-target="mushroom-bolognese-rating-display">
                                <span class="text-gray-300 hover:text-yellow-400 transition-colors">‚òÖ</span>
                            </button>
                            <button class="star-rating" data-recipe="Mushroom Bolognese" data-rating="2" data-target="mushroom-bolognese-rating-display">
                                <span class="text-gray-300 hover:text-yellow-400 transition-colors">‚òÖ</span>
                            </button>
                            <button class="star-rating" data-recipe="Mushroom Bolognese" data-rating="3" data-target="mushroom-bolognese-rating-display">
                                <span class="text-gray-300 hover:text-yellow-400 transition-colors">‚òÖ</span>
                            </button>
                            <button class="star-rating" data-recipe="Mushroom Bolognese" data-rating="4" data-target="mushroom-bolognese-rating-display">
                                <span class="text-gray-300 hover:text-yellow-400 transition-colors">‚òÖ</span>
                            </button>
                            <button class="star-rating" data-recipe="Mushroom Bolognese" data-rating="5" data-target="mushroom-bolognese-rating-display">
                                <span class="text-gray-300 hover:text-yellow-400 transition-colors">‚òÖ</span>
                            </button>
                        </div>
                        <div class="flex items-center space-x-2">
                            <input type="text" placeholder="Your name (optional)" 
                                   class="flex-1 px-2 py-1 text-xs border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-green-500"
                                   data-recipe="Mushroom Bolognese">
                            <button class="submit-rating px-3 py-1 bg-green-600 text-white text-xs rounded hover:bg-green-700 transition"
                                    data-recipe="Mushroom Bolognese">
                                Rate
                            </button>
                        </div>
                    </div>
                </div>
                <div class="px-6 pb-4">
                    <div class="border-t pt-3">
                        <h4 class="text-sm font-medium text-gray-700 mb-2">Recent Reviews:</h4>
                        <div class="space-y-2">
                            <div class="text-sm">
                                <div class="flex items-center mb-1">
                                    <span class="font-medium">Emma L.</span>
                                    <span class="text-yellow-400 ml-2">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</span>
                                </div>
                                <p class="text-gray-600">"This is incredible! The mushrooms create such a rich, umami flavor. My kids love it!"</p>
                            </div>
                            <div class="text-sm">
                                <div class="flex items-center mb-1">
                                    <span class="font-medium">David K.</span>
                                    <span class="text-yellow-400 ml-2">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</span>
                                </div>
                                <p class="text-gray-600">"Best vegetarian pasta sauce I've ever had. Restaurant quality!"</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Recipe Card 3 -->
            <div class="bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow" data-rating="4.7" data-time="60">
                <img src="https://images.unsplash.com/photo-1585937421612-70a008356fbe?w=400&h=250&fit=crop&crop=center" 
                     alt="Tofu Tikka Masala" class="w-full h-48 object-cover">
                <div class="p-6">
                    <div class="flex items-center justify-between mb-2">
                        <h3 class="text-lg font-semibold cursor-pointer hover:text-green-600 transition-colors recipe-title">Tofu Tikka Masala</h3>
                        <div class="flex items-center">
                            <span class="text-yellow-400">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ</span>
                            <span class="text-sm text-gray-500 ml-1">(4.6)</span>
                        </div>
                    </div>
                    <p class="text-gray-600 text-sm mb-3">Creamy, spiced tomato sauce with perfectly marinated tofu. A vegetarian take on the Indian classic.</p>
                    <div class="flex items-center justify-between text-sm text-gray-500">
                        <span>‚è±Ô∏è 50 min</span>
                        <span>üë• 4 servings</span>
                        <span class="bg-green-100 text-green-700 px-2 py-1 rounded-full">Vegetarian</span>
                    </div>
                    <!-- Rating Section -->
                    <div class="mt-4 pt-3 border-t">
                        <div class="flex items-center justify-between mb-2">
                            <span class="text-sm font-medium text-gray-700">Rate this recipe:</span>
                            <div class="flex items-center">
                                <span class="text-sm text-gray-500 mr-2" id="tofu-tikka-masala-rating-display">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ (4.6)</span>
                            </div>
                        </div>
                        <div class="flex items-center space-x-1 mb-2">
                            <button class="star-rating" data-recipe="Tofu Tikka Masala" data-rating="1" data-target="tofu-tikka-masala-rating-display">
                                <span class="text-gray-300 hover:text-yellow-400 transition-colors">‚òÖ</span>
                            </button>
                            <button class="star-rating" data-recipe="Tofu Tikka Masala" data-rating="2" data-target="tofu-tikka-masala-rating-display">
                                <span class="text-gray-300 hover:text-yellow-400 transition-colors">‚òÖ</span>
                            </button>
                            <button class="star-rating" data-recipe="Tofu Tikka Masala" data-rating="3" data-target="tofu-tikka-masala-rating-display">
                                <span class="text-gray-300 hover:text-yellow-400 transition-colors">‚òÖ</span>
                            </button>
                            <button class="star-rating" data-recipe="Tofu Tikka Masala" data-rating="4" data-target="tofu-tikka-masala-rating-display">
                                <span class="text-gray-300 hover:text-yellow-400 transition-colors">‚òÖ</span>
                            </button>
                            <button class="star-rating" data-recipe="Tofu Tikka Masala" data-rating="5" data-target="tofu-tikka-masala-rating-display">
                                <span class="text-gray-300 hover:text-yellow-400 transition-colors">‚òÖ</span>
                            </button>
                        </div>
                        <div class="flex items-center space-x-2">
                            <input type="text" placeholder="Your name (optional)" 
                                   class="flex-1 px-2 py-1 text-xs border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-green-500"
                                   data-recipe="Tofu Tikka Masala">
                            <button class="submit-rating px-3 py-1 bg-green-600 text-white text-xs rounded hover:bg-green-700 transition"
                                    data-recipe="Tofu Tikka Masala">
                                Rate
                            </button>
                        </div>
                    </div>
                </div>
                <div class="px-6 pb-4">
                    <div class="border-t pt-3">
                        <h4 class="text-sm font-medium text-gray-700 mb-2">Recent Reviews:</h4>
                        <div class="space-y-2">
                            <div class="text-sm">
                                <div class="flex items-center mb-1">
                                    <span class="font-medium">Priya S.</span>
                                    <span class="text-yellow-400 ml-2">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</span>
                                </div>
                                <p class="text-gray-600">"Authentic flavors! The tofu absorbs the spices beautifully. Served with basmati rice - perfect!"</p>
                            </div>
                            <div class="text-sm">
                                <div class="flex items-center mb-1">
                                    <span class="font-medium">Tom W.</span>
                                    <span class="text-yellow-400 ml-2">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ</span>
                                </div>
                                <p class="text-gray-600">"Great recipe! The sauce is rich and flavorful. Will definitely make again."</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Recipe Card 4 -->
            <div class="bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow" data-rating="4.8" data-time="25">
                <img src="https://images.unsplash.com/photo-1546833999-b9f581a1996d?w=400&h=250&fit=crop&crop=center" 
                     alt="Veggie Pot Pie" class="w-full h-48 object-cover">
                <div class="p-6">
                    <div class="flex items-center justify-between mb-2">
                        <h3 class="text-lg font-semibold cursor-pointer hover:text-green-600 transition-colors recipe-title">Veggie Pot Pie</h3>
                        <div class="flex items-center">
                            <span class="text-yellow-400">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</span>
                            <span class="text-sm text-gray-500 ml-1">(4.7)</span>
                        </div>
                    </div>
                    <p class="text-gray-600 text-sm mb-3">Comforting vegetable pot pie with a flaky crust. Packed with seasonal vegetables in a creamy sauce.</p>
                    <div class="flex items-center justify-between text-sm text-gray-500">
                        <span>‚è±Ô∏è 60 min</span>
                        <span>üë• 6 servings</span>
                        <span class="bg-green-100 text-green-700 px-2 py-1 rounded-full">Vegetarian</span>
                    </div>
                    <!-- Rating Section -->
                    <div class="mt-4 pt-3 border-t">
                        <div class="flex items-center justify-between mb-2">
                            <span class="text-sm font-medium text-gray-700">Rate this recipe:</span>
                            <div class="flex items-center">
                                <span class="text-sm text-gray-500 mr-2" id="veggie-pot-pie-rating-display">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ (4.7)</span>
                            </div>
                        </div>
                        <div class="flex items-center space-x-1 mb-2">
                            <button class="star-rating" data-recipe="Veggie Pot Pie" data-rating="1" data-target="veggie-pot-pie-rating-display">
                                <span class="text-gray-300 hover:text-yellow-400 transition-colors">‚òÖ</span>
                            </button>
                            <button class="star-rating" data-recipe="Veggie Pot Pie" data-rating="2" data-target="veggie-pot-pie-rating-display">
                                <span class="text-gray-300 hover:text-yellow-400 transition-colors">‚òÖ</span>
                            </button>
                            <button class="star-rating" data-recipe="Veggie Pot Pie" data-rating="3" data-target="veggie-pot-pie-rating-display">
                                <span class="text-gray-300 hover:text-yellow-400 transition-colors">‚òÖ</span>
                            </button>
                            <button class="star-rating" data-recipe="Veggie Pot Pie" data-rating="4" data-target="veggie-pot-pie-rating-display">
                                <span class="text-gray-300 hover:text-yellow-400 transition-colors">‚òÖ</span>
                            </button>
                            <button class="star-rating" data-recipe="Veggie Pot Pie" data-rating="5" data-target="veggie-pot-pie-rating-display">
                                <span class="text-gray-300 hover:text-yellow-400 transition-colors">‚òÖ</span>
                            </button>
                        </div>
                        <div class="flex items-center space-x-2">
                            <input type="text" placeholder="Your name (optional)" 
                                   class="flex-1 px-2 py-1 text-xs border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-green-500"
                                   data-recipe="Veggie Pot Pie">
                            <button class="submit-rating px-3 py-1 bg-green-600 text-white text-xs rounded hover:bg-green-700 transition"
                                    data-recipe="Veggie Pot Pie">
                                Rate
                            </button>
                        </div>
                    </div>
                </div>
                <div class="px-6 pb-4">
                    <div class="border-t pt-3">
                        <h4 class="text-sm font-medium text-gray-700 mb-2">Recent Reviews:</h4>
                        <div class="space-y-2">
                            <div class="text-sm">
                                <div class="flex items-center mb-1">
                                    <span class="font-medium">Lisa H.</span>
                                    <span class="text-yellow-400 ml-2">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</span>
                                </div>
                                <p class="text-gray-600">"Perfect comfort food! The crust is flaky and the filling is so flavorful. Great for meal prep too!"</p>
                            </div>
                            <div class="text-sm">
                                <div class="flex items-center mb-1">
                                    <span class="font-medium">James P.</span>
                                    <span class="text-yellow-400 ml-2">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ</span>
                                </div>
                                <p class="text-gray-600">"Delicious and hearty. The vegetables stay crisp and the sauce is perfectly seasoned."</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Recipe Card 5 -->
            <div class="bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow" data-rating="4.8" data-time="45">
                <img src="https://images.unsplash.com/photo-1565299624946-b28f40a0ca4b?w=400&h=250&fit=crop&crop=center" 
                     alt="Veggie Burger" class="w-full h-48 object-cover">
                <div class="p-6">
                    <div class="flex items-center justify-between mb-2">
                        <h3 class="text-lg font-semibold cursor-pointer hover:text-green-600 transition-colors recipe-title">Ultimate Veggie Burger</h3>
                        <div class="flex items-center">
                            <span class="text-yellow-400">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ</span>
                            <span class="text-sm text-gray-500 ml-1">(4.5)</span>
                        </div>
                    </div>
                    <p class="text-gray-600 text-sm mb-3">Protein-packed veggie burger with black beans, quinoa, and mushrooms. Holds together perfectly on the grill.</p>
                    <div class="flex items-center justify-between text-sm text-gray-500">
                        <span>‚è±Ô∏è 40 min</span>
                        <span>üë• 4 servings</span>
                        <span class="bg-green-100 text-green-700 px-2 py-1 rounded-full">Vegetarian</span>
                    </div>
                    <!-- Rating Section -->
                    <div class="mt-4 pt-3 border-t">
                        <div class="flex items-center justify-between mb-2">
                            <span class="text-sm font-medium text-gray-700">Rate this recipe:</span>
                            <div class="flex items-center">
                                <span class="text-sm text-gray-500 mr-2" id="ultimate-veggie-burger-rating-display">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ (4.5)</span>
                            </div>
                        </div>
                        <div class="flex items-center space-x-1 mb-2">
                            <button class="star-rating" data-recipe="Ultimate Veggie Burger" data-rating="1" data-target="ultimate-veggie-burger-rating-display">
                                <span class="text-gray-300 hover:text-yellow-400 transition-colors">‚òÖ</span>
                            </button>
                            <button class="star-rating" data-recipe="Ultimate Veggie Burger" data-rating="2" data-target="ultimate-veggie-burger-rating-display">
                                <span class="text-gray-300 hover:text-yellow-400 transition-colors">‚òÖ</span>
                            </button>
                            <button class="star-rating" data-recipe="Ultimate Veggie Burger" data-rating="3" data-target="ultimate-veggie-burger-rating-display">
                                <span class="text-gray-300 hover:text-yellow-400 transition-colors">‚òÖ</span>
                            </button>
                            <button class="star-rating" data-recipe="Ultimate Veggie Burger" data-rating="4" data-target="ultimate-veggie-burger-rating-display">
                                <span class="text-gray-300 hover:text-yellow-400 transition-colors">‚òÖ</span>
                            </button>
                            <button class="star-rating" data-recipe="Ultimate Veggie Burger" data-rating="5" data-target="ultimate-veggie-burger-rating-display">
                                <span class="text-gray-300 hover:text-yellow-400 transition-colors">‚òÖ</span>
                            </button>
                        </div>
                        <div class="flex items-center space-x-2">
                            <input type="text" placeholder="Your name (optional)" 
                                   class="flex-1 px-2 py-1 text-xs border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-green-500"
                                   data-recipe="Ultimate Veggie Burger">
                            <button class="submit-rating px-3 py-1 bg-green-600 text-white text-xs rounded hover:bg-green-700 transition"
                                    data-recipe="Ultimate Veggie Burger">
                                Rate
                            </button>
                        </div>
                    </div>
                </div>
                <div class="px-6 pb-4">
                    <div class="border-t pt-3">
                        <h4 class="text-sm font-medium text-gray-700 mb-2">Recent Reviews:</h4>
                        <div class="space-y-2">
                            <div class="text-sm">
                                <div class="flex items-center mb-1">
                                    <span class="font-medium">Alex T.</span>
                                    <span class="text-yellow-400 ml-2">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</span>
                                </div>
                                <p class="text-gray-600">"Finally, a veggie burger that doesn't fall apart! Great texture and flavor. Perfect for BBQs."</p>
                            </div>
                            <div class="text-sm">
                                <div class="flex items-center mb-1">
                                    <span class="font-medium">Maria G.</span>
                                    <span class="text-yellow-400 ml-2">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ</span>
                                </div>
                                <p class="text-gray-600">"Really good! The combination of beans and quinoa works perfectly. Kids loved it too."</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Recipe Card 6 -->
            <div class="bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow" data-rating="4.9" data-time="35">
                <img src="https://images.unsplash.com/photo-1512621776951-a57141f2eefd?w=400&h=250&fit=crop&crop=center" 
                     alt="Quinoa Stir Fry" class="w-full h-48 object-cover">
                <div class="p-6">
                    <div class="flex items-center justify-between mb-2">
                        <h3 class="text-lg font-semibold cursor-pointer hover:text-green-600 transition-colors recipe-title">Quinoa Vegetable Stir Fry</h3>
                        <div class="flex items-center">
                            <span class="text-yellow-400">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</span>
                            <span class="text-sm text-gray-500 ml-1">(4.8)</span>
                        </div>
                    </div>
                    <p class="text-gray-600 text-sm mb-3">Quick and nutritious stir fry with quinoa, fresh vegetables, and a savory sauce. Ready in under 30 minutes!</p>
                    <div class="flex items-center justify-between text-sm text-gray-500">
                        <span>‚è±Ô∏è 25 min</span>
                        <span>üë• 3 servings</span>
                        <span class="bg-green-100 text-green-700 px-2 py-1 rounded-full">Vegetarian</span>
                    </div>
                    <!-- Rating Section -->
                    <div class="mt-4 pt-3 border-t">
                        <div class="flex items-center justify-between mb-2">
                            <span class="text-sm font-medium text-gray-700">Rate this recipe:</span>
                            <div class="flex items-center">
                                <span class="text-sm text-gray-500 mr-2" id="quinoa-vegetable-stir-fry-rating-display">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ (4.8)</span>
                            </div>
                        </div>
                        <div class="flex items-center space-x-1 mb-2">
                            <button class="star-rating" data-recipe="Quinoa Vegetable Stir Fry" data-rating="1" data-target="quinoa-vegetable-stir-fry-rating-display">
                                <span class="text-gray-300 hover:text-yellow-400 transition-colors">‚òÖ</span>
                            </button>
                            <button class="star-rating" data-recipe="Quinoa Vegetable Stir Fry" data-rating="2" data-target="quinoa-vegetable-stir-fry-rating-display">
                                <span class="text-gray-300 hover:text-yellow-400 transition-colors">‚òÖ</span>
                            </button>
                            <button class="star-rating" data-recipe="Quinoa Vegetable Stir Fry" data-rating="3" data-target="quinoa-vegetable-stir-fry-rating-display">
                                <span class="text-gray-300 hover:text-yellow-400 transition-colors">‚òÖ</span>
                            </button>
                            <button class="star-rating" data-recipe="Quinoa Vegetable Stir Fry" data-rating="4" data-target="quinoa-vegetable-stir-fry-rating-display">
                                <span class="text-gray-300 hover:text-yellow-400 transition-colors">‚òÖ</span>
                            </button>
                            <button class="star-rating" data-recipe="Quinoa Vegetable Stir Fry" data-rating="5" data-target="quinoa-vegetable-stir-fry-rating-display">
                                <span class="text-gray-300 hover:text-yellow-400 transition-colors">‚òÖ</span>
                            </button>
                        </div>
                        <div class="flex items-center space-x-2">
                            <input type="text" placeholder="Your name (optional)" 
                                   class="flex-1 px-2 py-1 text-xs border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-green-500"
                                   data-recipe="Quinoa Vegetable Stir Fry">
                            <button class="submit-rating px-3 py-1 bg-green-600 text-white text-xs rounded hover:bg-green-700 transition"
                                    data-recipe="Quinoa Vegetable Stir Fry">
                                Rate
                            </button>
                        </div>
                    </div>
                </div>
                <div class="px-6 pb-4">
                    <div class="border-t pt-3">
                        <h4 class="text-sm font-medium text-gray-700 mb-2">Recent Reviews:</h4>
                        <div class="space-y-2">
                            <div class="text-sm">
                                <div class="flex items-center mb-1">
                                    <span class="font-medium">Rachel B.</span>
                                    <span class="text-yellow-400 ml-2">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</span>
                                </div>
                                <p class="text-gray-600">"Perfect weeknight meal! So quick to make and packed with nutrients. The quinoa adds great texture."</p>
                            </div>
                            <div class="text-sm">
                                <div class="flex items-center mb-1">
                                    <span class="font-medium">Kevin M.</span>
                                    <span class="text-yellow-400 ml-2">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ</span>
                                </div>
                                <p class="text-gray-600">"Great recipe for meal prep! The vegetables stay crisp and the sauce is delicious."</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Load More Button -->
        <div class="text-center mt-12">
            <button class="px-8 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition shadow-lg">
                Load More Recipes
            </button>
        </div>
    </main>

    <!-- Recipe Details Modal -->
    <div id="recipe-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto">
            <div class="sticky top-0 bg-white border-b px-6 py-4 flex justify-between items-center">
                <h2 id="modal-recipe-title" class="text-2xl font-bold text-green-600"></h2>
                <button id="close-modal" class="text-gray-500 hover:text-gray-700 text-2xl font-bold">
                    √ó
                </button>
            </div>
            <div class="p-6">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <!-- Ingredients -->
                    <div>
                        <h3 class="text-xl font-semibold mb-4 text-gray-800">Ingredients</h3>
                        <ul id="modal-ingredients" class="space-y-2 text-gray-700">
                            <!-- Ingredients will be populated here -->
                        </ul>
                    </div>
                    <!-- Instructions -->
                    <div>
                        <h3 class="text-xl font-semibold mb-4 text-gray-800">Instructions</h3>
                        <ol id="modal-instructions" class="space-y-3 text-gray-700">
                            <!-- Instructions will be populated here -->
                        </ol>
                    </div>
                </div>
                <!-- Recipe Info -->
                <div class="mt-8 pt-6 border-t">
                    <div class="flex items-center justify-between text-sm text-gray-500">
                        <span id="modal-cooking-time"></span>
                        <span id="modal-servings"></span>
                        <span class="bg-green-100 text-green-700 px-3 py-1 rounded-full">Vegetarian</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Enhanced search functionality and rating system
        document.addEventListener('DOMContentLoaded', () => {
            const searchInput = document.getElementById('search-input');
            const sortButtons = document.querySelectorAll('#sort-popularity, #sort-rating, #sort-time');
            const recipesGrid = document.getElementById('recipes-grid');
            const recipeCards = document.querySelectorAll('#recipes-grid > div');
            
            // Rating system variables
            const currentRatings = {}; // Store current user ratings
            let currentSort = 'popularity'; // Default sort

            // Search functionality
            searchInput.addEventListener('input', (e) => {
                const searchTerm = e.target.value.toLowerCase();
                recipeCards.forEach(card => {
                    const title = card.querySelector('h3').textContent.toLowerCase();
                    const description = card.querySelector('p').textContent.toLowerCase();
                    
                    if (title.includes(searchTerm) || description.includes(searchTerm)) {
                        card.style.display = 'block';
                    } else {
                        card.style.display = 'none';
                    }
                });
            });

            // Sort functionality
            function sortRecipes(sortType) {
                const cards = Array.from(recipeCards);
                
                cards.sort((a, b) => {
                    switch(sortType) {
                        case 'popularity':
                            // Sort by rating (low to high)
                            return parseFloat(a.dataset.rating) - parseFloat(b.dataset.rating);
                        case 'rating':
                            // Sort by rating (low to high)
                            return parseFloat(a.dataset.rating) - parseFloat(b.dataset.rating);
                        case 'time':
                            // Sort by cooking time (low to high)
                            return parseInt(a.dataset.time) - parseInt(b.dataset.time);
                        default:
                            return 0;
                    }
                });
                
                // Clear the grid and re-append sorted cards
                recipesGrid.innerHTML = '';
                cards.forEach(card => {
                    recipesGrid.appendChild(card);
                });
            }

            // Sort button event listeners
            sortButtons.forEach(button => {
                button.addEventListener('click', () => {
                    // Remove active class from all buttons
                    sortButtons.forEach(btn => {
                        btn.classList.remove('bg-green-100', 'text-green-700');
                        btn.classList.add('bg-gray-100', 'text-gray-700');
                    });
                    
                    // Add active class to clicked button
                    button.classList.remove('bg-gray-100', 'text-gray-700');
                    button.classList.add('bg-green-100', 'text-green-700');
                    
                    // Determine sort type
                    if (button.id === 'sort-popularity') {
                        currentSort = 'popularity';
                    } else if (button.id === 'sort-rating') {
                        currentSort = 'rating';
                    } else if (button.id === 'sort-time') {
                        currentSort = 'time';
                    }
                    
                    sortRecipes(currentSort);
                });
            });


            // Rating system functionality
            function updateStarDisplay(recipeName, rating) {
                const stars = document.querySelectorAll(`[data-recipe="${recipeName}"].star-rating`);
                stars.forEach((star, index) => {
                    const starSpan = star.querySelector('span');
                    if (index < rating) {
                        starSpan.classList.remove('text-gray-300');
                        starSpan.classList.add('text-yellow-400');
                    } else {
                        starSpan.classList.remove('text-yellow-400');
                        starSpan.classList.add('text-gray-300');
                    }
                });
            }

            function updateRatingDisplay(recipeName, averageRating, totalRatings) {
                const displayElement = document.getElementById(`${recipeName.toLowerCase().replace(/\s+/g, '-')}-rating-display`);
                if (displayElement) {
                    const stars = '‚òÖ'.repeat(Math.floor(averageRating)) + '‚òÜ'.repeat(5 - Math.floor(averageRating));
                    displayElement.textContent = `${stars} (${averageRating})`;
                }
            }

            // Star rating click handlers
            document.querySelectorAll('.star-rating').forEach(button => {
                button.addEventListener('click', (e) => {
                    const recipeName = button.dataset.recipe;
                    const rating = parseInt(button.dataset.rating);
                    
                    currentRatings[recipeName] = rating;
                    updateStarDisplay(recipeName, rating);
                });
            });

            // Submit rating handlers
            document.querySelectorAll('.submit-rating').forEach(button => {
                button.addEventListener('click', async (e) => {
                    const recipeName = button.dataset.recipe;
                    const rating = currentRatings[recipeName];
                    
                    if (!rating) {
                        alert('Please select a rating first!');
                        return;
                    }

                    const nameInput = document.querySelector(`input[data-recipe="${recipeName}"]`);
                    const userName = nameInput.value.trim() || 'Anonymous';

                    try {
                        const response = await fetch('/api/rate-recipe', {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json',
                            },
                            body: JSON.stringify({
                                recipe_name: recipeName,
                                rating: rating,
                                user_name: userName,
                                comment: ''
                            }),
                        });

                        const result = await response.json();
                        
                        if (result.success) {
                            // Update the display with new average
                            updateRatingDisplay(recipeName, result.average_rating, result.total_ratings);
                            
                            // Show success message
                            const originalText = button.textContent;
                            button.textContent = 'Rated!';
                            button.classList.add('bg-green-500');
                            
                            setTimeout(() => {
                                button.textContent = originalText;
                                button.classList.remove('bg-green-500');
                            }, 2000);
                            
                            // Clear the rating selection
                            delete currentRatings[recipeName];
                            updateStarDisplay(recipeName, 0);
                            nameInput.value = '';
                        } else {
                            alert('Failed to submit rating: ' + result.message);
                        }
                    } catch (error) {
                        console.error('Error submitting rating:', error);
                        alert('Failed to submit rating. Please try again.');
                    }
                });
            });

            // Load existing ratings on page load
            async function loadRatings() {
                try {
                    const response = await fetch('/api/all-ratings');
                    const data = await response.json();
                    
                    data.recipes.forEach(recipe => {
                        updateRatingDisplay(recipe.recipe_name, recipe.average_rating, recipe.total_ratings);
                    });
                } catch (error) {
                    console.error('Error loading ratings:', error);
                }
            }

            // Load ratings when page loads
            loadRatings();

            // Recipe modal functionality
            const modal = document.getElementById('recipe-modal');
            const closeModal = document.getElementById('close-modal');
            const modalTitle = document.getElementById('modal-recipe-title');
            const modalIngredients = document.getElementById('modal-ingredients');
            const modalInstructions = document.getElementById('modal-instructions');
            const modalCookingTime = document.getElementById('modal-cooking-time');
            const modalServings = document.getElementById('modal-servings');

            // Recipe data
            const recipeData = {
                "Ultimate Veggie Burger": {
                    ingredients: [
                        "1 can black beans, drained and rinsed",
                        "1 cup cooked quinoa",
                        "1/2 cup mushrooms, finely chopped",
                        "1/4 cup breadcrumbs",
                        "1 egg (or flax egg for vegan)",
                        "2 cloves garlic, minced",
                        "1 tsp cumin",
                        "1 tsp paprika",
                        "Salt and pepper to taste",
                        "4 burger buns",
                        "Lettuce, tomato, onion for serving"
                    ],
                    instructions: [
                        "Mash black beans in a large bowl",
                        "Add quinoa, mushrooms, breadcrumbs, egg, garlic, and spices",
                        "Mix until well combined",
                        "Form into 4 patties",
                        "Heat oil in a pan over medium heat",
                        "Cook patties for 4-5 minutes per side until golden",
                        "Serve on buns with desired toppings"
                    ],
                    time: "40 min",
                    servings: "4 servings"
                },
                "Tofu Tikka Masala": {
                    ingredients: [
                        "1 block firm tofu, cubed",
                        "1 can coconut milk",
                        "1 can diced tomatoes",
                        "1 onion, diced",
                        "3 cloves garlic, minced",
                        "1 inch ginger, grated",
                        "2 tbsp tikka masala spice blend",
                        "1 tsp turmeric",
                        "1 tsp garam masala",
                        "2 tbsp olive oil",
                        "Fresh cilantro for garnish",
                        "Basmati rice for serving"
                    ],
                    instructions: [
                        "Press tofu and cut into cubes",
                        "Heat oil in a large pan over medium heat",
                        "Add onion and cook until soft",
                        "Add garlic, ginger, and spices",
                        "Add tomatoes and coconut milk",
                        "Simmer for 15 minutes",
                        "Add tofu and cook for 10 more minutes",
                        "Serve over rice with cilantro"
                    ],
                    time: "50 min",
                    servings: "4 servings"
                },
                "Veggie Pot Pie": {
                    ingredients: [
                        "2 cups mixed vegetables (carrots, peas, corn)",
                        "1 cup mushrooms, sliced",
                        "1/2 cup butter",
                        "1/2 cup flour",
                        "2 cups vegetable broth",
                        "1/2 cup milk",
                        "1 sheet puff pastry",
                        "1 onion, diced",
                        "2 cloves garlic, minced",
                        "1 tsp thyme",
                        "Salt and pepper to taste"
                    ],
                    instructions: [
                        "Preheat oven to 400¬∞F",
                        "Cook vegetables until tender",
                        "Make roux with butter and flour",
                        "Add broth and milk gradually",
                        "Season with herbs and spices",
                        "Add vegetables to sauce",
                        "Pour into pie dish",
                        "Cover with pastry and bake 25 minutes"
                    ],
                    time: "60 min",
                    servings: "6 servings"
                },
                "Quinoa Vegetable Stir Fry": {
                    ingredients: [
                        "1 cup quinoa, cooked",
                        "2 cups mixed vegetables",
                        "3 tbsp soy sauce",
                        "2 tbsp sesame oil",
                        "2 cloves garlic, minced",
                        "1 inch ginger, grated",
                        "2 green onions, sliced",
                        "1 tbsp rice vinegar",
                        "1 tsp honey",
                        "Sesame seeds for garnish"
                    ],
                    instructions: [
                        "Cook quinoa according to package directions",
                        "Heat sesame oil in a large wok",
                        "Add garlic and ginger, stir for 30 seconds",
                        "Add vegetables and stir-fry for 5 minutes",
                        "Add cooked quinoa",
                        "Mix in soy sauce, vinegar, and honey",
                        "Garnish with green onions and sesame seeds"
                    ],
                    time: "25 min",
                    servings: "3 servings"
                },
                "Lentil Shepherd's Pie": {
                    ingredients: [
                        "1 cup green lentils",
                        "2 lbs potatoes, peeled and cubed",
                        "1 onion, diced",
                        "2 carrots, diced",
                        "1 cup frozen peas",
                        "2 cloves garlic, minced",
                        "2 tbsp tomato paste",
                        "1 cup vegetable broth",
                        "1/2 cup milk",
                        "4 tbsp butter",
                        "1 tsp thyme",
                        "Salt and pepper to taste"
                    ],
                    instructions: [
                        "Cook lentils until tender",
                        "Boil potatoes until soft",
                        "Mash potatoes with butter and milk",
                        "Saut√© onion and carrots",
                        "Add garlic, tomato paste, and broth",
                        "Add lentils and peas",
                        "Season with herbs and spices",
                        "Top with mashed potatoes and bake 20 minutes"
                    ],
                    time: "45 min",
                    servings: "6 servings"
                },
                "Mushroom Bolognese": {
                    ingredients: [
                        "1 lb mixed mushrooms, chopped",
                        "1 onion, diced",
                        "2 carrots, diced",
                        "2 celery stalks, diced",
                        "4 cloves garlic, minced",
                        "1 can crushed tomatoes",
                        "1/2 cup red wine",
                        "2 tbsp olive oil",
                        "1 tsp oregano",
                        "1 tsp basil",
                        "Parmesan cheese (optional)",
                        "Pasta of choice"
                    ],
                    instructions: [
                        "Heat oil in a large pot",
                        "Saut√© onion, carrots, and celery",
                        "Add mushrooms and cook until browned",
                        "Add garlic and cook 1 minute",
                        "Add wine and let it reduce",
                        "Add tomatoes and herbs",
                        "Simmer for 30 minutes",
                        "Serve over pasta with cheese"
                    ],
                    time: "35 min",
                    servings: "4 servings"
                }
            };

            // Function to show recipe modal
            function showRecipeModal(recipeName) {
                const recipe = recipeData[recipeName];
                if (!recipe) return;

                modalTitle.textContent = recipeName;
                
                // Populate ingredients
                modalIngredients.innerHTML = '';
                recipe.ingredients.forEach(ingredient => {
                    const li = document.createElement('li');
                    li.textContent = ingredient;
                    li.className = 'flex items-start';
                    li.innerHTML = `<span class="mr-2">‚Ä¢</span>${ingredient}`;
                    modalIngredients.appendChild(li);
                });

                // Populate instructions
                modalInstructions.innerHTML = '';
                recipe.instructions.forEach((instruction, index) => {
                    const li = document.createElement('li');
                    li.textContent = instruction;
                    li.className = 'flex items-start';
                    li.innerHTML = `<span class="mr-3 font-semibold text-green-600">${index + 1}.</span>${instruction}`;
                    modalInstructions.appendChild(li);
                });

                // Populate cooking info
                modalCookingTime.textContent = `‚è±Ô∏è ${recipe.time}`;
                modalServings.textContent = `üë• ${recipe.servings}`;

                // Show modal
                modal.classList.remove('hidden');
            }

            // Close modal functionality
            closeModal.addEventListener('click', () => {
                modal.classList.add('hidden');
            });

            // Close modal when clicking outside
            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    modal.classList.add('hidden');
                }
            });

            // Add click handlers to recipe titles
            document.addEventListener('click', (e) => {
                if (e.target.classList.contains('recipe-title')) {
                    const recipeName = e.target.textContent.trim();
                    showRecipeModal(recipeName);
                }
            });
        });
    </script>

</body>
</html>
